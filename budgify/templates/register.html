{% extends "base.html" %}
{% block title %}Budgify | Register{% endblock %} 

{% block content %}

<h2>Register</h2>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul class="flashes">
      {% for message in messages %}
        <li class="text-center text-danger p-0">
          {{ message }}
        </li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<section class="row m-2">
  <form class="form-card col-12 col-md-6 mx-auto" method="POST" action="{{ url_for('register') }}">

    <!-- Username -->
    <label for="username" class="form-label fw-medium">Username</label>
    <div class="input-group">
      <span class="input-group-text"
        ><i class="fa-solid fa-user-plus text-primary"></i
      ></span>
      <input
        type="text"
        class="form-control"
        id="username"
        name="username"
        aria-describedby="username-help"
        minlength="5"
        maxlength="25"
        pattern="^[a-zA-Z0-9_\-]{4,15}$"
        required />
    </div>
    <div id="username-help" class="form-text mb-5">
      Must be 5 - 25 characters long and only contain letters, numbers,
      hyphens(-) and underscores(_).
    </div>

    <!-- Password -->
    <label for="password" class="form-label fw-medium">Password</label>
    <div class="input-group">
      <span class="input-group-text"
        ><i class="fa-solid fa-user-lock text-primary"></i
      ></span>
      <input
        type="password"
        class="form-control"
        id="password"
        name="password"
        aria-describedby="password-help"
        minlength="8"
        maxlength="25"
        pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$"
        required />
    </div>
    <div id="password-help" class="form-text mb-3">
      Must be at least 8 characters and contain at least 1 uppercase and 1
      lowercase character as well as 1 number.
    </div>

    <!-- Confirm Password -->
    <label for="confirm-password" class="form-label fw-medium"
      >Confirm Password</label
    >
    <div class="input-group mb-3">
      <span class="input-group-text"
        ><i class="fa-solid fa-user-lock text-primary"></i
      ></span>
      <input
        type="password"
        class="form-control"
        id="confirm-password"
        name="confirm-password"
        required />
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">
      Register <i class="fa-solid fa-right-to-bracket ps-1"></i>
    </button>
  </form>
</section>

<script src="{{ url_for('static', filename='js/confirmpwd.js') }}"></script>
{% endblock %}
